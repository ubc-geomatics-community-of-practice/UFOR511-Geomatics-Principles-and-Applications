<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Lab 1 Collecting and processing GNSS data | 02-GNSS-data.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="Lab 1 Collecting and processing GNSS data | 02-GNSS-data.knit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lab 1 Collecting and processing GNSS data | 02-GNSS-data.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">An Open Geomatics Community of Practice</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path=""><a href="#GNSS-data"><i class="fa fa-check"></i><b>1</b> Collecting and processing GNSS data</a>
<ul>
<li class="chapter" data-level="" data-path=""><a href="#lab-overview"><i class="fa fa-check"></i>Lab Overview</a></li>
<li class="chapter" data-level="" data-path=""><a href="#learning-objectives"><i class="fa fa-check"></i>Learning Objectives</a></li>
<li class="chapter" data-level="" data-path=""><a href="#deliverables"><i class="fa fa-check"></i>Deliverables</a></li>
<li class="chapter" data-level="" data-path=""><a href="#task-1-preparing-for-gnss-data-collection"><i class="fa fa-check"></i>Task 1: Preparing for GNSS Data Collection</a></li>
<li class="chapter" data-level="" data-path=""><a href="#task-2-collect-gnss-data"><i class="fa fa-check"></i>Task 2: Collect GNSS Data</a></li>
<li class="chapter" data-level="" data-path=""><a href="#task-3-assess-precision-accuracy-and-possible-errors"><i class="fa fa-check"></i>Task 3: Assess Precision, Accuracy, and Possible Errors</a></li>
<li class="chapter" data-level="" data-path=""><a href="#lab-deliverable-40-points-total"><i class="fa fa-check"></i>Lab Deliverable (40 points total)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:title:end-->
<!--bookdown:title:start-->
<div id="GNSS-data" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Lab 1</span> Collecting and processing GNSS data<a href="#GNSS-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Written by
Paul Pickell</p>
<div id="lab-overview" class="section level2 unnumbered hasAnchor">
<h2>Lab Overview<a href="#lab-overview" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Oftentimes, you will need to collect and display your own data. There are many phone applications to collect your own GNSS data. In this lab, you will plan your own GNSS collection, collect data, and process the data.</p>
<hr />
</div>
<div id="learning-objectives" class="section level2 unnumbered hasAnchor">
<h2>Learning Objectives<a href="#learning-objectives" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Learn how to plan for field data collection</li>
<li>Use AvenzaMaps to collect GNSS readings</li>
<li>Assess the accuracy and precision of GNSS coordinates</li>
</ul>
<hr />
</div>
<div id="deliverables" class="section level2 unnumbered hasAnchor">
<h2>Deliverables<a href="#deliverables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>During this lab, you should be taking notes so that you are able to write a brief report about your study area and discuss the GNSS collection and processing procedure. You will be submitting a one-page writeup, described in detail toward the end of the lab.</p>
<hr />
</div>
<div id="task-1-preparing-for-gnss-data-collection" class="section level2 unnumbered hasAnchor">
<h2>Task 1: Preparing for GNSS Data Collection<a href="#task-1-preparing-for-gnss-data-collection" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Field data collection is an important skill set to learn and practice. In this task, you will plan the collection of your GNSS data in a public park. The task for collecting GNSS data in a public park has nearly the same risks as if you collected the data on campus and you are expected to take similar precautions. This
section is meant to inform you of the likely hazards and how to stay safe.</p>
<p><strong>Planning Your Data Collection</strong>
Safety starts at the planning stage. When planning which park you will visit, consider somewhere nearby that is easily accessible by transit or walking. Avoid going somewhere that is unfamiliar to you. Ensure that you are visiting a public park and stay off of private or restricted property. You should only visit the
park during daylight hours and plan to go out in sunny weather only. Check government websites for any recent animal sightings before you commit to going to your desired park. Do not plan to collect your GNSS data near bodies of water (e.g., oceans, lakes, ponds, rivers, streams). Do not plan to collect your
GNSS data near cliffs or on steep terrain. Finally, ensure that you will have good cell phone coverage in case of an emergency.</p>
<p><strong>Likely Hazards</strong>
At all times, you must be aware of possible hazards both overhead and underfoot. The main overhead hazard in a public park is going to be trees and falling branches. Do not collect your GNSS data during windy or stormy weather, which may cause tree branches to fall. Wet and slippery surfaces, steep
angles, holes, logs, debris, and loose soil all pose fall hazards. Many of these hazards can be avoided with careful planning before you even step outside. Speaking of stepping, make sure you wear appropriate footwear, closed toed shoes are best for this work. Fauna are natural inhabitants of parks. Do not visit parks with recent sightings for large, predatory fauna such as bears or cougars. Even urban parks like Stanley Park in downtown Vancouver are known to have coyotes who have attacked people. As well, avoid areas with hazardous flora that may be thorny or poisonous. You may need to cross or transit streets to reach your park. Always follow local traffic laws and look for moving vehicles in and around
your park. Always use designated crosswalks and do not look at your phone when walking near stopped or moving vehicles.</p>
<p><em>Do not collect your GNSS data while walking and looking at your phone. Always be aware of your surroundings.</em></p>
<p><em>Important: If you feel uncomfortable undertaking this task, please contact the instructor for alternative arrangements or accommodations for this particular assignment</em></p>
<p>All studies require a study area—for this lab, you will decide on your own study area through your own knowledge and simple remote sensing.</p>
<p>Your study area must:</p>
<ul>
<li>Be somewhere that you can legally and safely visit</li>
<li>Be a park or a greenspace</li>
<li>Have at least a portion of its ground visible using aerial imagery (e.g. Google Earth or an ArcGIS Pro basemap)</li>
</ul>
<p><strong>Step 1:</strong> Open ArcGIS Pro and turn on an imagery basemap (Map &gt; Basemap &gt; Imagery). Navigate to your proposed study area. You can do this by (a) dragging around your map, (b) putting coordinates into Go To XY, (c) typing in an address or park name into the Locate tool.</p>
<p>Before physically visiting your study area, you will need to verify that there are usable reference points in your chosen park. The reference points should be immovable, viewable from the sky and ground, and not tall (not trees or buildings). Additionally, you will be walking to your points – so they should be somewhere safely accessible and not too close or too far from each other.</p>
<p><strong>Step 2:</strong>Find at least four possible reference points (all at least 10 m from each other). You will create a new shapefile and populate it with these reference points. In Geoprocessing, find the Create Feature Class tool by searching for “Create Feature Class”. Save it to a findable location and give it a meaningful
name (for this lab, it will be called “refpoints”). For the other options:</p>
<ul>
<li><strong>Geometry Type:</strong> Point</li>
<li><strong>Has M:</strong> No</li>
<li><strong>Has Z:</strong> No</li>
<li><strong>Coordinate System:</strong> –Local UTM–</li>
<li>Click <strong>“Run”</strong></li>
</ul>
<p>Your new shapefile should now be in the “Contents” Pane, but it has no points.</p>
<p>Choose Edit from the top ribbon, then select “Create.” On the right, a “Create Features” pane will appear. In there, click refpoints, then select “Create a Point Feature.” Zoom in closely on the basemap before creating point features so that the points are more accurate. Click on (at least) four reference points, then select “Save” from the Edit ribbon. If you need to Move a reference point, you can select Move from the Edit Tools.</p>
<p>Open the attribute table of refpoints and add three new columns: Name, East, North. Populate the columns for each reference point: Name – a unique name. East – Easting. North – Northing. Easting and Northing can be populated using “Calculate Geometry.” For more relatable measurements in your precision and accuracy assessment (Task 3), use your local UTM for the geometry. Be sure to save your edits.</p>
<p><strong>Step 3:</strong>You will be exporting a georeferenced map of your study area. Zoom in (or out) to an extent that contains at least the entire park.</p>
<p>Using the top ribbon, select Share &gt; Export Map. A pane will pop up on the right-hand side of your screen. The file type is PDF, and make sure that it is saved somewhere you will be able to find it. Toward the bottom of the pane, make sure that the box under “PDF Settings” that says “Export georeference
information” is selected. Then select export. This will be used when you are collecting data with Avenza.</p>
<p><strong>Step 4:</strong> Now that you have established a study area, you need to decide when you will be collecting your data. There are times in the day where you are more likely to get accurate GNSS readings. Find the coordinates of your study area so that you can use them in the Trimble GNSS Planning Online website
(<a href="http://www.gnssplanning.com/" class="uri">http://www.gnssplanning.com/</a>).</p>
<p>Go to the Trimble GNSS Planning Online website and enter your study area’s coordinates (one set of coordinates from anywhere within the study area) and elevation. If your coordinates are not in the proper units, either convert them to the proper units. Choose the day that you plan to visit your field site and collect data.</p>
<p>After you have input your information into Settings, click “Apply” and look through the other tabs (Satellite Library, Charts, Sky Plot, World View). Using the information on the website, determine the ideal time to collect your GNSS points. Justify your chosen time using the data on the website (this
justification should be included on your report, along with screenshots from the webpage).</p>
<hr />
</div>
<div id="task-2-collect-gnss-data" class="section level2 unnumbered hasAnchor">
<h2>Task 2: Collect GNSS Data<a href="#task-2-collect-gnss-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You will need either an Android or iOS smartphone capable of installing the Avenza Maps App. If you do not have an Android or iOS smartphone, then please contact the instructor for alternative arrangements or accommodations</p>
<p><strong>Step 1:</strong> To start you will need to install Avenza Maps App on your phone. There is an Android version as well as an iOS version so just go to your app store and download it. It’s free!</p>
<p><strong>Step 2:</strong> Once you have the app installed on your phone, you need to sign up for a free account. If you have concerns about your privacy, you can use a pseudonym and your student UBC e-mail address.Avenza Maps is a widely used mobile mapping application, so chances are you might continue to use it in
the future for other projects or hobbies. If you want to ensure future access to your Avenza Maps account and assets, then choose an e-mail account that you will continue to have access to (i.e., not your UBC student e-mail).</p>
<p><strong>Step 3:</strong> Now that you are registered and logged in, you will change some settings in the Avenza Maps app. Navigate to the Settings in the bottom right corner (for iOS) and in the top right corner (for Android). Scroll down and click “GPS settings”. Use the following settings:</p>
<ul>
<li><strong>Location Source:</strong> “Use Only Internal Sources”. This ensures that we are only using the phone’s internal GNSS receiver.</li>
<li><strong>Horizontal Accuracy:</strong> “Keep all fixes”</li>
<li><strong>Distance Thresholds:</strong> “Keep all fixes”</li>
<li><strong>Time Threshold:</strong> “Keep all fixes”</li>
<li><strong>Ignore Suspicious Fixes:</strong> Toggled Off</li>
</ul>
<p>Next, we will set the units to metric. In Settings, navigate to “Units of Measurement” and select “Metric” at the top. Under “Coordinates”, ensure that the “Format” is set to a workable coordinate system.</p>
<p><img src="images/02-avenza.PNG" width="75%" /></p>
<p><img src="images/02-avenza2.PNG" width="75%" /></p>
<p><strong>Step 4:</strong> Ensure that the Avenza Maps App is allowed to access your location, camera, and photos in your <em>phone’s settings</em>.</p>
<p><img src="images/02-phone.PNG" width="75%" /></p>
<p><em>Important: Personal location is very sensitive information. You should not undertake this exercise at your home or share the coordinates or screenshots of your home location in Avenza Maps with anyone, including the instructor, TA, or other students in this course. Treat personal location information as any other private sensitive information and handle with respect and care.</em></p>
<p><strong>Step 5:</strong> Avenza Maps requires you to load a map before being able to use the location service of your phone. You will import the georeferenced PDF map that you created in Task 1. There are several ways to do this in Avenza Maps, but probably the easiest is to download the PDF to your phone and then import directly from your phone. <em>Be aware that map size can be large and will consume cellular data if you are not connected to a wifi network.</em> A video on Canvas shows how to accomplish this on iOS using an iPhone and an example georeferenced map of the world.</p>
<p>If you ran into problems creating your georeferenced PDF, then you can use the provided georeferenced PDF on Canvas for the world. In the end, the actual map that you use is not important for collecting your GNSS data, but Avenza Maps requires a georeferenced map be loaded in the app.</p>
<p><strong>Step 6:</strong> Travel to your study area!!! Open the Avenza app, and select the Georeferenced PDF under “My Maps.” Go to one of the reference points you selected in ArcGIS. On the bottom right of the app, there is a button that will bring the map to your current area. Press that button, then press the placemark button
directly to the right of it. Create a placemark and name it something meaningful (for example: placemark 1, location 1). Stay exactly where you are, and create a placemark every 10 seconds for the next minute by pressing the location button then the placemark. You should have a total of 6 placemarks. Take a picture of the area you are trying to geographically capture. Go to two more of your designated locations and do the same procedure (create 6 placemarks, each 10 seconds apart, and take a picture.</p>
<p><strong>Step 7:</strong> Now you can return back to your workstation (after taking a nice walk!). In Avenza, go back to “My Maps,” then select Layers (at the bottom). Select the layer you created, then the icon with three lines at the bottom right. Choose export layers. Export the layer as a KML by pressing the EXPORT option
at the top right. A list of export applications should pop up—choose whichever one you would prefer.</p>
<p><strong>Step 8:</strong> Find your exported file and bring it into ArcGIS Pro. You can drag and drop it from the Catalog Pane into the main map. From there, you should export the kml file to layer using the tool “KML to Layer.”</p>
<hr />
</div>
<div id="task-3-assess-precision-accuracy-and-possible-errors" class="section level2 unnumbered hasAnchor">
<h2>Task 3: Assess Precision, Accuracy, and Possible Errors<a href="#task-3-assess-precision-accuracy-and-possible-errors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For this lab, we will consider the initial ArcGIS-created reference points as the “true” values and perform an accuracy assessment with that in mind.</p>
<p><strong>Step 1:</strong> Visually compare the Avenza-created Placemarks (called “Observed values” for the rest of the lab) with each other and ArcGIS reference points. How close/far are they from one another? You can use the measure tool to add values to this visual assessment. When you are comparing the observed values
Page 10 of 12to each other, you are assessing precision, when you are comparing them to the “True” locations, you are assessing accuracy.</p>
<p><strong>Step 2:</strong> Quantitatively determine the accuracy of the points. Add two columns in the Observed attribute table and populate them with the east and north values for each point. You should have the True values from your reference point attribute table. Export both tables and bring them into excel.</p>
<p>Calculate the horizontal accuracy for each placemark using the following equation:</p>
<p><span class="math inline">\(\sigma_{H_{acc}} = \sqrt{(\overline{E} - E_{true})^2 + (\overline{N} - N_{true})^2}\)</span></p>
<p>Excel is a convenient place to use this equation. Breaking down the equation – get the mean observed East value, then subtract the “True” East value. Square this difference. Do the same for North. Add the north and east results, then take the square root of them. In excel, you can do this with the equation:</p>
<p><code>=SQRT((average(observed east values)-true east value)^2+((average(observed north values)-true north value)^2))</code></p>
<p>The resulting value represents how accurate the GNSS measurements were – a lower value represents greater accuracy. Is there a noticeable difference in accuracy between your placemarks? Why do you think this is?</p>
<p>To assess the precision, you will use the following equation:</p>
<p><span class="math inline">\(\sigma_{H_{pre} = \sqrt{\sigma^2_E + \sigma^2_N}}\)</span></p>
<p>Calculate the standard deviation of the observed East and North values, square them, then add them and take the square root of the sum. In excel, you can do this with the equation:</p>
<p>=SQRT((STDEV(observed east values)^2 + STDEV(observed values)^2))</p>
<p>The resulting value represents how precise the GNSS measurements were – a lower value represents greater accuracy. Is there a noticeable difference in precision between your placemarks? Why do you think this is?</p>
<hr />
</div>
<div id="lab-deliverable-40-points-total" class="section level2 unnumbered hasAnchor">
<h2>Lab Deliverable (40 points total)<a href="#lab-deliverable-40-points-total" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A short (maximum two page) lab write-up that goes through the lab process from planning, to data collection, then to data analysis. Place your figures, tables, and/or screenshots at the end of the document, which do not contribute to the maximum page count.</p>
<p>Within the write-up, be sure to include the following:</p>
<p>Overall <strong>(5 points)</strong></p>
<ul>
<li>Margins, 12-point font</li>
<li>Single-spaced</li>
<li>Maximum of two pages of written text</li>
<li>Organized and writted scientifically</li>
</ul>
<p>Planning <strong>(10 points)</strong></p>
<ul>
<li>Basic information about the study area – why it was chosen, where it is, etc. <strong>(2 points)</strong></li>
<li>A description of each reference point – what is each reference point? <strong>(2 points)</strong></li>
<li>A runthrough of the results from the GNSS planning tool. When is the ideal time to go out and why? Include screenshots from the planning tool (# of satellites, DOPs, ionosphere, skyplot) and interpret them. **(6 points)*</li>
</ul>
<p>Data Collection <strong>(5 points)</strong></p>
<ul>
<li>Some details about the tools used (e.g., How old is your phone?) <strong>(1 point)</strong></li>
<li>Field conditions and time of data collection <strong>(1 point)</strong></li>
<li>A brief description of the data collection procedure <strong>(2 points)</strong></li>
<li>Images from each reference point <strong>(1 point)</strong></li>
</ul>
<p>Analysis <strong>(20 points)</strong></p>
<ul>
<li>A map showing True and Observed points <strong>(6 points)</strong></li>
<li>A table containing accuracy and precision values for each placemark <strong>(2 points)</strong></li>
<li>An interpretation of the table for each placemark <strong>(2 points)</strong></li>
<li>A discussion of potential errors and what may have affected accuracy and precision – be sure to reflect on the validity of the “True” values <strong>(10 points)</strong></li>
</ul>
</div>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
